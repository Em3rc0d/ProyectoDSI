<div class="container mx-auto p-6 bg-white shadow-md rounded-lg">
    <h1 class="text-2xl font-semibold text-gray-800 mb-4">Gestión de Productos</h1>
  
    <!-- Sección de Búsqueda -->
    <div class="flex items-center gap-4 mb-6">
      <input
        type="text"
        [(ngModel)]="searchQuery"
        placeholder="Buscar producto por nombre o categoría"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg"
      />
      <button (click)="searchProducts()" class="px-4 py-2 bg-blue-500 text-white rounded-lg">
        Buscar
      </button>
    </div>
  
    <!-- Mensaje de Producto no encontrado -->
    <div *ngIf="products && products.length === 0" class="text-red-500 mb-4">
      No se encontraron productos que coincidan con los criterios de búsqueda.
    </div>
  
    <!-- Tabla de Productos -->
    <table class="min-w-full bg-white mb-6">
      <thead>
        <tr>
          <th class="px-4 py-2 border">ID</th>
          <th class="px-4 py-2 border">Nombre</th>
          <th class="px-4 py-2 border">Descripción</th>
          <th class="px-4 py-2 border">Precio</th>
          <th class="px-4 py-2 border">Cantidad</th>
          <th class="px-4 py-2 border">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td class="px-4 py-2 border">{{ product.id }}</td>
          <td class="px-4 py-2 border">{{ product.name }}</td>
          <td class="px-4 py-2 border">{{ product.description }}</td>
          <td class="px-4 py-2 border">{{ product.price | currency }}</td>
          <td class="px-4 py-2 border">{{ product.quantity }}</td>
          <td class="px-4 py-2 border flex gap-2">
            <button (click)="editProduct(product)" class="px-2 py-1 bg-yellow-500 text-white rounded">
              Editar
            </button>
            <button (click)="deleteProduct(product.id)" class="px-2 py-1 bg-red-500 text-white rounded">
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Formulario para Agregar o Editar Productos -->
    <div class="bg-gray-100 p-4 rounded-lg">
      <h2 class="text-xl font-semibold text-gray-700 mb-4">{{ isEditing ? 'Editar Producto' : 'Agregar Producto' }}</h2>
      <form (ngSubmit)="isEditing ? updateProduct() : addProduct()">
        <div class="grid grid-cols-2 gap-4">
          <input [(ngModel)]="selectedProduct.name" placeholder="Nombre del producto" required name="name" class="w-full p-2 border rounded" />
          <input [(ngModel)]="selectedProduct.description" placeholder="Descripción" name="description" class="w-full p-2 border rounded" />
          <input type="number" [(ngModel)]="selectedProduct.price" placeholder="Precio" name="price" required class="w-full p-2 border rounded" />
          <input type="number" [(ngModel)]="selectedProduct.quantity" placeholder="Cantidad" name="quantity" required class="w-full p-2 border rounded" />
        </div>
        <button type="submit" class="mt-4 px-4 py-2 bg-green-500 text-white rounded-lg">{{ isEditing ? 'Actualizar' : 'Agregar' }}</button>
      </form>
    </div>
  </div>
  